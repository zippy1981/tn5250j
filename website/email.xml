<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN" "document-v11.dtd">
<document>
  <header>
    <title>E-Mail</title>
  </header>
  <body>
  <p>
  This version of the emulator includes support to send screen to e-mail.</p>
  <section><title>Setting up e-mail support</title>
    <ol>
        <li>Download the e-mail api's from sun.  You will need two packages.
          <ul>
            <li>http://java.sun.com/products/javamail/</li>
            <li>http://java.sun.com/products/javabeans/glasgow/jaf.html</li>
          </ul></li>
        <li>Unzip the files into there respective directories.  I use the same directory
        names as provided within the zip files.</li>
    </ol>
  </section>
  <section><title>Deployment</title>
    <p>
    Copy the file activation.jar from the /jaf-1.0.1 file to the SAME DIRECTORY as
    the my5250.jar.</p>
    <p>Copy the files</p>
      <ul>
        <li>mail.jar</li>
        <li>mailapi.jar</li>
        <li>smtp.jar</li>
      </ul>
      <p>to te SAME DIRECTORY as the my5250.jar.</p>
      <p>
      If you list the directory where the my5250.jar file is you should see 4 files
      with the extension .jar.  If this is not true then go to step one of Deployment
      and start again.</p>
      <p>
      Now within the same directory create a file named <code>SMTPProperties.cfg</code></p>
      <p>Within this file type or copy and paste following:</p>
      <source>
      #SendMail.cfg
      mail.smtp.host=xxx.xxx.xxx.xxx
      mail.smtp.port=####
      mail.smtp.from=name@xxxxxx.yyy
      mail.debug=true
      </source>    
      <table>
      <caption>SendMail.cfg entrys</caption>
      <tr><th>Entry</th><th>Description</th></tr>
      <tr>
       <td>mail.smtp.host=</td>
       <td>Fill in the host name or ip address of your SMTP mail server.</td>
      </tr>
      <tr>
       <td>mail.smtp.port=</td>
       <td>Fill in the port to use to connect</td>
      </tr>
      <tr>
       <td>mail.smtp.from=</td>
       <td>This is the e-mail address from.  For example I would
                           place kjpou@hotmail.com here as follows:
                           mail.smtp.from=kjpou@hotmail.com
                          </td>
      </tr>
      <tr>
       <td>mail.debug=</td>
       <td>Here place one of the two values:
                              true
                              false
                           I have here true so I can get debug output from the
                           api's.  false will not print out anything.
       </td>
       </tr>
       </table>
     <p>Save the file.</p>
   </section>
   <section><title>Deployment with JavaWebStart</title>
   <p>
   Using the webstart application the clients are automatically set up for use any
   any changes are automatically downloaded and ready for use.</p>
   <p>
   I also have scripts and or .bat set up to do the signing and copying to the
   intranet.</p>
   <p>
   I have included my sample .jnlp file that I use for deploying in JavaWebStart.</p>
   <source><![CDATA[
<?xml version="1.0" encoding="utf-8"?>
<!-- JNLP File for tn5250j Application -->
<jnlp
       spec="0.2 1.0"
       codebase="http://xxx.xxx.xxx.xxx:8080/products/javawebstart/apps"
       href="tn5250j.jnlp">
<information>
<title>tn5250j</title>
<vendor>Kenneth J. Pouncey</vendor>
<homepage href="http://sourceforge.net/tn5250j"/>
<description>tn5250j - 5250 emulator written in java</description>
<description kind="short">tn5250j - 5250 emulator</description>
<icon href="tnicon.jpg"/>
<offline-allowed/>
</information>
<security>
<all-permissions/>
</security>
<resources>
<j2se version="1.3+" inital-heap-size="64m" max-heap-size="256m"/>
<jar href="my5250.jar" main="true" download="eager"/>
<jar href="activation.jar"/>
<jar href="mail.jar"/>
<jar href="mailapi.jar"/>
<jar href="smtp.jar"/>
</resources>
<application-desc main-class="org.tn5250j.My5250"/>
</jnlp>
]]>
  </source>
  <p>
  All these files are signed before coping to server.</p>
  <p>
  For instructions on Setting up and Using Java webstart please consult the
  experts website.</p>
  </section>
  <section><title>Using emulator to send screen shots via e-mail</title>
    <p>
    From the emulator press Alt-e to get an input dialog to enter the following:</p>
    <source>
    To:
    Subject:
    </source>
    <p>Press the Send button or Cancel.</p>
    </section>
  </body>
</document>
